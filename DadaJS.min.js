var Visibilitor={init:function(){for(var a=document.getElementsByClassName("visibilitor"),b=0;b<a.length;b++)a[b].addEventListener("click",Visibilitor.changeVisibility)},normalizeToHidden:function(a){if(a){a.classList.contains("hidden")&&a.classList.remove("hidden");var b=getComputedStyle(a);"hidden"==b.visibility&&(b.visibility="visible"),a.style.display="none"}},normalizeToVisible:function(a){a&&(Visibilitor.normalizeToHidden(a),a.style.display="block")},hideCollection:function(a){var b=document.getElementsByClassName(a);for(i=0;i<b.length;i++)Visibilitor.normalizeToHidden(b[i])},changeActiveStatus:function(a,b,c){var d=document.getElementsByClassName("visibilitor"),e=!1;for(i=0;i<d.length;i++){var f=void 0===c?d[i]:d[i].parentNode;void 0!==b&&d[i].getAttribute("data-collection")==b&&(console.log(f),f.classList.contains("active")&&(e=!0,f.classList.remove("active")))}return e||void 0!==c?void(void 0===c?a.classList.add("active"):a.parentNode.classList.add("active")):void Visibilitor.changeActiveStatus(a,b,!0)},changeVisibility:function(a){var b=a.target;if(console.log(b),!b.hasAttribute("data-key")){if(!b.parentNode.hasAttribute("data-key"))return;b=b.parentNode}var c=document.getElementById(b.getAttribute("data-key"));if(c){var d=!(c.classList.contains("hidden")||"hidden"==getComputedStyle(c).display||"none"==getComputedStyle(c).display||"hidden"==getComputedStyle(c).visibility),e=b.hasAttribute("data-collection")&&document.getElementsByClassName(b.getAttribute("data-collection")).length>0,f=e?b.getAttribute("data-collection"):"",g=b.hasAttribute("data-visibilitor")?b.getAttribute("data-visibilitor"):"";switch(g){case"tab":d||(Visibilitor.changeActiveStatus(b,f),Visibilitor.hideCollection(f),Visibilitor.normalizeToVisible(c));break;case"menu":default:d?Visibilitor.normalizeToHidden(c):(e&&Visibilitor.hideCollection(f),Visibilitor.normalizeToVisible(c))}}}},Ajaxer={init:function(){},get:function(a,b){var c=new XMLHttpRequest;c.open("GET",a,!0),c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.onreadystatechange=function(a){4==c.readyState&&(200==c.status?b("string"==typeof c.response?JSON.parse(c.response):c.response):console.log("Erreur pendant le chargement de la page.\n"))},c.send(null)},post:function(a,arguments,b){var c=new XMLHttpRequest,d=new FormData;for(var e in arguments)d.append(e,arguments[e]);c.open("POST",a,!0),c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.onreadystatechange=function(a){4==c.readyState&&(200==c.status?b("string"==typeof c.response?JSON.parse(c.response):c.response):console.log("Erreur pendant le chargement de la page.\n"))},c.send(d)}},DadaJS={initList:[],init:function(){this.initList.push(Visibilitor.init),this.initList.push(Ajaxer.init);for(var a=0;a<this.initList.length;a++)this.initList[a]()},hide:function(a){var b=void 0===a.target?a:a.target;Visibilitor.normalizeToHidden(b)},show:function(a){var b=void 0===a.target?a:a.target;Visibilitor.normalizeToVisible(b)},remove:function(a){var b=void 0===a.target?a:a.target;b.parentNode.removeChild(b)},ajax:{get:function(a,b){Ajaxer.get(a,b)},post:function(a,arguments,b){Ajaxer.post(a,arguments,b)}},listenClass:function(a,b,c){var d=document.getElementsByClassName(a);if(this.checkFunction(c))for(i=0;i<d.length;i++)d[i].addEventListener(b,c)},listenId:function(a,b,c){var d=document.getElementById(a);d&&this.checkFunction(c)&&d.addEventListener(b,c)},listenCSSSelector:function(a,b,c){var d=document.querySelectorAll(a);if(this.checkFunction(c))for(i=0;i<d.length;i++)d[i].addEventListener(b,c)},listenObject:function(a,b,c){this.checkFunction(c)&&"object"==typeof a&&a.addEventListener(b,c)},checkFunction:function(a){return"function"==typeof a},addLoadEvent:function(a){this.initList.push(a)},getTarget:function(a){return void 0===a.target?a:a.target}};
